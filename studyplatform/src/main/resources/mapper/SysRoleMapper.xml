<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wps.studyplatform.sqlcollect.mapper.SysRoleMapper">

    <resultMap id="queryRoleList" type="com.wps.studyplatform.sqlcollect.entity.SysRole">

        <result property="roleId" column="role_id"/>
        <result property="roleName" column="role_name"/>
        <result property="roleKey" column="role_key"/>
        <result property="roleSort" column="role_sort"/>
        <result property="dataScope" column="data_scope"/>
        <result property="status" column="status"/>
        <result property="delFlag" column="del_flag"/>


        <collection property="menuIds" column="{roleId=role_id}" ofType="long" javaType="list" select="queryMenuByRoleId">
            <result column="menu_id" javaType="long"/>
        </collection>


    </resultMap>
    <select id="queryMenuByRoleId" resultType="long" >
        select dept_id from sys_role_dept where role_id=#{roleId}
    </select>

    <select id="queryRoleList"parameterType="map" resultMap="queryRoleList">



    </select>
</mapper>